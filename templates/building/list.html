{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>건축물 관리</h2>
    <a href="{{ url_for('building.add_building') }}" class="btn btn-primary">건축물 등록</a>
</div>

<table class="table table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>이름</th>
            <th>위치</th>
            <th>용도</th>
            <th>준공연도</th>
            <th>등록일</th>
            <th>관리</th>
        </tr>
    </thead>
    <tbody>
        {% for b in buildings %}
        <tr>
            <td>{{ b['id'] }}</td>
            <td>{{ b['name'] }}</td>
            <td>{{ b['location'] }}</td>
            <td>{{ b['usage'] }}</td>
            <td>{{ b['construction_year'] }}</td>
            <td>{{ b['created_at'] }}</td>
            <td>
                <form action="{{ url_for('building.delete_building', building_id=b['id']) }}" method="post"
                    onsubmit="return confirm('정말 삭제하시겠습니까?');">
                    <button type="submit" class="btn btn-danger btn-sm">삭제</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}